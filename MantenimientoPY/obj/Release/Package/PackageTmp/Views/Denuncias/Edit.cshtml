@model MantenimientoPY.Models.Denuncia

@{
    ViewBag.Title = "Denuncias - Editar";
}
<script type="text/javascript">
    function DisplayGoogleMap() {
        var lat = @ViewBag.latitud;
        var long = @ViewBag.longitud;
        //Set the Latitude and Longitude of the Map
        var myAddress = new google.maps.LatLng(lat, long);

        //Create Options or set different Characteristics of Google Map
        var mapOptions = {
            center: myAddress,
            zoom: 15,
            minZoom: 1,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };

        //Display the Google map in the div control with the defined Options
        var map = new google.maps.Map(document.getElementById("myDiv"), mapOptions);

        //Set Marker on the Map
        var marker = new google.maps.Marker({
            position: myAddress,
            animation: google.maps.Animation.BOUNCE,
        });

        marker.setMap(map);
    }
</script>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>Editar denuncia</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.idDenuncia)

        <div class="form-group" style="display:none;">
            @Html.LabelFor(model => model.idCiudadano, "idCiudadano", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("idCiudadano", null, htmlAttributes: new { @class = "input-group mb-3" })
                @Html.ValidationMessageFor(model => model.idCiudadano, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.idPolicia, "Nombre del policía", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("idPolicia", null, htmlAttributes: new { @class = "input-group mb-3" })
                @Html.ValidationMessageFor(model => model.idPolicia, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.idEstadoDenuncia, "Estado de la denuncia", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("idEstadoDenuncia", null, htmlAttributes: new { @class = "input-group mb-3" })
                @Html.ValidationMessageFor(model => model.idEstadoDenuncia, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group" style="display:none;">
            @Html.LabelFor(model => model.idTipoDenuncia, "idTipoDenuncia", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("idTipoDenuncia", null, htmlAttributes: new { @class = "input-group mb-3" })
                @Html.ValidationMessageFor(model => model.idTipoDenuncia, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group" style="display:none;">
            @Html.LabelFor(model => model.idTipoDelito, "idTipoDelito", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("idTipoDelito", null, htmlAttributes: new { @class = "input-group mb-3" })
                @Html.ValidationMessageFor(model => model.idTipoDelito, "", new { @class = "text-danger" })
            </div>
        </div>



        <div class="form-group" style="display:none;">
            @Html.LabelFor(model => model.latitudDenuncia, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.latitudDenuncia, new { htmlAttributes = new { @class = "input-group mb-3" } })
                @Html.ValidationMessageFor(model => model.latitudDenuncia, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group" style="display:none;">
            @Html.LabelFor(model => model.longitudDenuncia, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.longitudDenuncia, new { htmlAttributes = new { @class = "input-group mb-3" } })
                @Html.ValidationMessageFor(model => model.longitudDenuncia, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group" style="display:none;">
            @Html.LabelFor(model => model.descripcionDenuncia, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.descripcionDenuncia, new { htmlAttributes = new { @class = "input-group mb-3" } })
                @Html.ValidationMessageFor(model => model.descripcionDenuncia, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group" style="display:none;">
            @Html.LabelFor(model => model.afectadoDenuncia, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.afectadoDenuncia, new { htmlAttributes = new { @class = "input-group mb-3" } })
                @Html.ValidationMessageFor(model => model.afectadoDenuncia, "", new { @class = "text-danger" })
            </div>
        </div>



        <div class="form-group">
            <div class="col-md-offset-2 col-md-5">
                <input type="submit" value="Guardar" class="btn btn-primary btn-lg btn-block" style="width: 40%;" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Volver a la lista", "Index")
</div>
<div id="myDiv" style="width:100%;height:400px;"></div>
<script>
    $(document).ready(function () {
        DisplayGoogleMap();
    });
</script>

